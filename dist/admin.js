!function(e){"use strict";jQuery(document).ready((function(){console.log("Admin js");let e,o,t="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",a=document.querySelector(".generate-form"),n=e=>{e.preventDefault();let o=document.querySelector("#textInput").value,t=document.querySelector("#img-quantity").value,a=document.querySelector("#text-to-speech").value,n=Array.from({length:t},(()=>'\n\t\t\t\t\t<div class="img-card">\n\t\t\t\t\t\t<img src="" alt="Generated Image">\n\t\t\t\t\t</div>\n\t\t\t\t')).join("");document.querySelector(".img-container").innerHTML=n,o&&r(o,t),a&&c(a)};function i(t){try{e=new MediaRecorder(t),e.ondataavailable=async t=>{if(o.push(t.data),"inactive"==e.state){let e=new Blob(o,{type:"audio/mp3"});recordedAudio.src=URL.createObjectURL(e),recordedAudio.controls=!0,recordedAudio.autoplay=!0;let t=await s(e);c(t.text)}}}catch(e){console.log(e)}}a&&a.addEventListener("submit",n),record.onclick=t=>{record.disabled=!0,stopRecord.disabled=!1,record.style.backgroundColor="blue",o=[],e.start()},stopRecord.onclick=o=>{record.disabled=!1,stop.disabled=!0,record.style.backgroundColor="red",e.stop()};let r=async(e,o)=>{try{let n=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({prompt:e,n:parseInt(o),size:"256x256",response_format:"b64_json"})});if(!n.ok)throw Error(n.statusText+" response not ok!");let{data:i}=await n.json();i.forEach(((e,o)=>{console.log(e,o)})),a=[...i],console.log(a),a.forEach(((e,o)=>{console.log(e);let t=document.querySelectorAll(".img-card")[0].querySelector("img");console.log(t);let a=`data:image/png;base64,${e.b64_json}`;t.src=a,console.log(t),t.onload=()=>{console.log("image loaded")}}))}catch(e){console.log(e)}var a},s=async e=>{try{const o=new FormData;o.append("file",e),o.append("model","whisper-1");const a=await fetch("https://api.openai.com/v1/audio/translations",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:o});if(!a.ok)throw Error(a.statusText+" response not ok!");return await a.json()}catch(e){console.log(e)}},c=async(e="No input man!")=>{try{let o=document.querySelector(".playground-field-results"),a=await fetch("https://api.openai.com/v1/audio/speech",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:"tts-1-hd",input:e,voice:"onyx"}),responseType:"arraybuffer"});if(!a.ok)throw Error(a.statusText+" response not ok!");let n=await a.arrayBuffer();const i=new FileReader,r=new Blob([n],{type:"audio/ogg"});i.onloadend=function(){const e=i.result,t=document.createElement("audio");t.src=e,t.controls=!0,o.appendChild(t)},i.readAsDataURL(r)}catch(e){console.log(e)}};c("Hrvatski pričam, iz Zagreba sam. Kud moji mili moji... otvor' ženo kapiju... Jao man'se oče naša!!! Evo mene i mojih pajdaša! Jihawww!!"),(async(e="https://audio-samples.github.io/samples/mp3/blizzard_unconditional/sample-0.mp3")=>{try{const o=new FormData,a=await fetch(e).then((e=>e.blob()));o.append("file",a),o.append("model","whisper-1");const n=await fetch("https://api.openai.com/v1/audio/translations",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:o});if(!n.ok)throw Error(n.statusText+" response not ok!");const i=await n.json();console.log(i)}catch(e){console.log(e)}})("https://audio-samples.github.io/samples/mp3/blizzard_unconditional/sample-0.mp3"),async function(){try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});return await i(e),i(e)}catch(e){console.log(e)}}();let l="http://localhost/argo/wp-content/uploads/2023/08/inx-cobb-trooper-shooter-cam-bwc3-080123.jpg";if("undefined"!=typeof acf){console.log("ACF is defined",acf);let e=acf.getField("field_655299cae4b46");console.log(e),acf.addAction("acf/update_field",(function(e){"field111_655299cae4b46"===e.key?(console.log("it is!"),e.value=l,console.log("assign"+l),console.log("assign"+e.value)):"field_6552a26d77df3"===e.key&&(console.log("it is!"),e.value="test text",console.log("assign"+l),console.log("assign"+e.value))})),console.log("ACF is defined",acf),acf.doAction("acf/update_field",{key:"field_655299cae4b46"})}}))}(jQuery);