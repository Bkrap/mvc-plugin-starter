!function(e){"use strict";jQuery(document).ready((function(){console.log("Admin js");let e,o,t=document.querySelector(".generate-form"),a=e=>{e.preventDefault();let o=document.querySelector("#textInput").value,t=document.querySelector("#img-quantity").value,a=document.querySelector("#text-to-speech").value,n=Array.from({length:t},(()=>'\n\t\t\t\t\t<div class="img-card">\n\t\t\t\t\t\t<img src="" alt="Generated Image">\n\t\t\t\t\t</div>\n\t\t\t\t')).join("");document.querySelector(".img-container").innerHTML=n,o&&r(o,t),a&&s(a)};function n(t){try{e=new MediaRecorder(t),e.ondataavailable=async t=>{if(o.push(t.data),"inactive"==e.state){let e=new Blob(o,{type:"audio/mp3"});recordedAudio.src=URL.createObjectURL(e),recordedAudio.controls=!0,recordedAudio.autoplay=!0;let t=await i(e);s(t.text)}}}catch(e){console.log(e)}}t&&t.addEventListener("submit",a),record.onclick=t=>{record.disabled=!0,stopRecord.disabled=!1,record.style.backgroundColor="blue",o=[],e.start()},stopRecord.onclick=o=>{record.disabled=!1,stop.disabled=!0,record.style.backgroundColor="red",e.stop()};let r=async(e,o)=>{try{let a=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{Authorization:"Bearer ","Content-Type":"application/json"},body:JSON.stringify({prompt:e,n:parseInt(o),size:"256x256",response_format:"b64_json"})});if(!a.ok)throw Error(a.statusText+" response not ok!");let{data:n}=await a.json();n.forEach(((e,o)=>{console.log(e,o)})),t=[...n],console.log(t),t.forEach(((e,o)=>{console.log(e);let t=document.querySelectorAll(".img-card")[0].querySelector("img");console.log(t);let a=`data:image/png;base64,${e.b64_json}`;t.src=a,console.log(t),t.onload=()=>{console.log("image loaded")}}))}catch(e){console.log(e)}var t},i=async e=>{try{const o=new FormData;o.append("file",e),o.append("model","whisper-1");const t=await fetch("https://api.openai.com/v1/audio/translations",{method:"POST",headers:{Authorization:"Bearer "},body:o});if(!t.ok)throw Error(t.statusText+" response not ok!");return await t.json()}catch(e){console.log(e)}},s=async(e="No input man!")=>{try{let o=document.querySelector(".playground-field-results"),t=await fetch("https://api.openai.com/v1/audio/speech",{method:"POST",headers:{Authorization:"Bearer ","Content-Type":"application/json"},body:JSON.stringify({model:"tts-1-hd",input:e,voice:"onyx"}),responseType:"arraybuffer"});if(!t.ok)throw Error(t.statusText+" response not ok!");let a=await t.arrayBuffer();const n=new FileReader,r=new Blob([a],{type:"audio/ogg"});n.onloadend=function(){const e=n.result,t=document.createElement("audio");t.src=e,t.controls=!0,o.appendChild(t)},n.readAsDataURL(r)}catch(e){console.log(e)}};s("Hrvatski pričam, iz Zagreba sam. Kud moji mili moji... otvor' ženo kapiju... Jao man'se oče naša!!! Evo mene i mojih pajdaša! Jihawww!!"),(async(e="https://audio-samples.github.io/samples/mp3/blizzard_unconditional/sample-0.mp3")=>{try{const o=new FormData,t=await fetch(e).then((e=>e.blob()));o.append("file",t),o.append("model","whisper-1");const a=await fetch("https://api.openai.com/v1/audio/translations",{method:"POST",headers:{Authorization:"Bearer "},body:o});if(!a.ok)throw Error(a.statusText+" response not ok!");const n=await a.json();console.log(n)}catch(e){console.log(e)}})("https://audio-samples.github.io/samples/mp3/blizzard_unconditional/sample-0.mp3"),async function(){try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});return await n(e),n(e)}catch(e){console.log(e)}}();let c="http://localhost/argo/wp-content/uploads/2023/08/inx-cobb-trooper-shooter-cam-bwc3-080123.jpg";if("undefined"!=typeof acf){console.log("ACF is defined",acf);let e=acf.getField("field_655299cae4b46");console.log(e),acf.addAction("acf/update_field",(function(e){"field111_655299cae4b46"===e.key?(console.log("it is!"),e.value=c,console.log("assign"+c),console.log("assign"+e.value)):"field_6552a26d77df3"===e.key&&(console.log("it is!"),e.value="test text",console.log("assign"+c),console.log("assign"+e.value))})),console.log("ACF is defined",acf),acf.doAction("acf/update_field",{key:"field_655299cae4b46"})}}))}(jQuery);